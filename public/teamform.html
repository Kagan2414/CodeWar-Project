<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Registration Form</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="icon" href="img/codewar-logo.jpg">
    <link href="css/code.css" rel="stylesheet" type="text/css"/>
    <script src="js/webfont.js" type="text/javascript"></script>
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6674f0cdb5b7b401612cf015" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="js/code.js" type="text/javascript"></script>
    <style>
        .member-form {
            display: none;
            position: relative;
        }
        .member-form.active {
            display: block;
        }
        .tab-button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            position: relative;
        }
        .tab-button.active {
            background-color: #39a21b;
            color: white;
            border: 1px solid white;
        }
        .tab-button:not(.active) {
            background-color: #000000;
            color: white;
            border: 1px solid white;
        }
        .error-message {
            color: #ff0019; /* Red color for error messages */
            font-size: 0.875rem;
        }
        .delete-member {
            position: absolute;
            top: 10px;
            right: 10px;
            color: red;
            cursor: pointer;
            display: none;
        }
        .member-form:not([data-member="1"]):not([data-member="2"]) .delete-member {
            display: block;
        }
        .add-member-btn {
            padding: 5px 15px;
            font-size: 0.9rem;
        }
        body {
            background-image: url("img/codewar-logo.jpg"),url("https://cdn.prod.website-files.com/6674f0cdb5b7b401612cf015/6674f0cdb5b7b401612cf065_noise-50.avif");
            background-size: cover; /* Ensures the image covers the entire screen */
            background-attachment: fixed; /* Keeps the background fixed during scrolling */
            background-position: center; /* Centers the image */
            background-repeat: no-repeat; /* Prevents the image from repeating */
            backdrop-filter: blur(15px); /* Adds a subtle blur for elegance */
            overflow-x: hidden; /* Hides horizontal overflow */
        }
        .container {
            max-width: 750px;
            padding: 20px;  
            backdrop-filter: blur(8px);
        }
        .card {
            background:     rgba(255, 255, 255, 0.159); /* Transparent white background */
            backdrop-filter: blur(10px); /* Adds a blur effect for the content behind */
            border-radius: 15px; /* Rounded corners */
            box-shadow: 0 16px 32px rgba(3, 238, 15, 0.3); /* Subtle shadow for depth */
            padding: 30px; /* Padding for inner spacing */
            border: 0.5px solid rgba(0, 231, 4, 0.3); /* Border for definition */
            animation: fade-in 0.8s ease-in-out; /* Smooth appearance animation */
        }
        /* Optional animation for a smooth fade-in effect */
        @keyframes fade-in {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .card h2 {
            color: #121312; /* Dark color for the heading */
            margin-bottom: 20px;
            font-weight: 700;
        }
        .form-label {
            font-weight: 500;
            color: #080808; /* Lighter color for form labels */
        }
        .form-select, .form-control {
            border-radius: 6px;
            border: 1px solid #39a21b; /* Dark border color */
            background-color: #000000; /* White background for form inputs */
            color: #ffffff; /* Black text color for form inputs */
            transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            padding: 0.75rem 1.25rem;
        }
        .form-select:hover, .form-control:hover {
            border-color: #666; /* Slightly lighter border color on hover */
            color: #fff;
            background-color: #f0f0f0; /* Slightly lighter background on hover */
        }
        .form-select:focus, .form-control:focus {
            border-color: #f5f5f5;
            color: #fff;
            box-shadow: 0 0 0 0.2rem rgba(181, 189, 197, 0.25);
            background-color: #000000; /* Lighter background on focus */
        }
        .btn-primary {
            background-color: #0b0b0b;
            border-color: #28d910;
            border-radius: 6px;
            font-weight: 500;
            color: #ffffff; /* Add color for better readability */
            transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
        }
        .btn-primary:hover {
            background-color: #1a1a1a; /* Slightly lighter background on hover */
            border-color: #3bff23; /* Brighter green border on hover */
            transform: scale(1.05); /* Slight zoom-in effect */
        }
        .mb-3 {
            margin-bottom: 1.5rem;
            color: #39a21b;
        }
        #photo {
            margin-top: 10px;
        }
        .form-link {
            font-size: 1rem;
            color: #2bd80d;
            text-decoration: none;
        }
        .form-link:hover {
            text-decoration: underline;
        }
        .form-check {
            margin-bottom: 1.5rem;
            color: #000;
            text-transform:uppercase ;
        }
        .tooltip-inner {
            background-color: #3ae518;
            color: #11ec20;
        }
        .error-message {
            color: #ff0019; /* Red color for error messages */
            font-size: 0.875rem;
        }
        /* Filled (Valid) state */
        .form-control:valid, .form-select:valid {
            background-color: #28a745; /* Green background for valid fields */
            color: #fff; /* White text for better contrast */
        }
    </style>
</head>
<body>
    <div>
        <div data-animation="default" class="navbar_fixed w-nav" data-easing2="ease" fs-scrolldisable-element="smart-nav" data-easing="ease" data-collapse="medium" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8ccf" role="banner" data-duration="0">
            <div class="navbar_component">
                <div class="navbar_container">
                    <a href="/" aria-current="page" class="navbar_logo-link w-nav-brand w--current">
                        <img src="codewar-logo.jpg" loading="lazy" alt="" class="navbar_logo"/>
                    </a>
                    <nav role="navigation" class="navbar_menu w-nav-menu">
                        <div class="navbar_menu-links">
                            <a href="code.html" class="navbar_link w-nav-link">Home</a>
                            <a href="about.html" class="navbar_link w-nav-link">About CodeWar 2.O</a>
                            <div data-hover="false" data-delay="200" id="dojo-menu" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8cd5" class="navbar_menu-dropdown w-dropdown">
                                <div class="navbar_dropdown-toggle w-dropdown-toggle">
                                    <div>Gallery</div>
                                    <div class="dropdown-icon w-embed">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z" fill="currentcolor"/>
                                        </svg>
                                    </div>
                                </div>
                                <nav class="navbar_dropdown-list w-dropdown-list">
                                    <div class="navbar_dropdown-link-list">
                                        <a href="gallery.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 1.0</div>
                                            </div>
                                        </a>
                                        <a href="gallery1.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 2.0</div>
                                            </div>
                                        </a>
                                    </div>
                                </nav>
                            </div>
                            <a href="https://www.pcet.ac.in/" class="navbar_link w-nav-link">About Us</a>
                        </div>
                        <div class="navbar_menu-buttons">
                            <a id="join-btn" href="registration.html" class="button is-secondary is-small w-button">Registration</a>
                        </div>
                    </nav>
                    <div class="navbar_menu-button w-nav-button">
                        <div class="menu-icon1">
                            <div class="menu-icon1_line-top"></div>
                            <div class="menu-icon1_line-middle">
                                <div class="menu-icon_line-middle-inner"></div>
                            </div>
                            <div class="menu-icon1_line-bottom"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-animation="default" class="navbar_fixed w-nav" data-easing2="ease" fs-scrolldisable-element="smart-nav" data-easing="ease" data-collapse="medium" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8ccf" role="banner" data-duration="0">
            <div class="navbar_component">
                <div class="navbar_container">
                    <a href="/" aria-current="page" class="navbar_logo-link w-nav-brand w--current">
                        <img src="codewar-logo.jpg" loading="lazy" alt="" class="navbar_logo"/>
                    </a>
                    <nav role="navigation" class="navbar_menu w-nav-menu">
                        <div class="navbar_menu-links">
                            <a href="code.html" class="navbar_link w-nav-link">Home</a>
                            <a href="about.html" class="navbar_link w-nav-link">About CodeWar 2.O</a>
                            <div data-hover="false" data-delay="200" id="dojo-menu" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8cd5" class="navbar_menu-dropdown w-dropdown">
                                <div class="navbar_dropdown-toggle w-dropdown-toggle">
                                    <div>Gallery</div>
                                    <div class="dropdown-icon w-embed">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z" fill="currentcolor"/>
                                        </svg>
                                    </div>
                                </div>
                                <nav class="navbar_dropdown-list w-dropdown-list">
                                    <div class="navbar_dropdown-link-list">
                                        <a href="gallery.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 1.0</div>
                                            </div>
                                        </a>
                                        <a href="gallery1.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 2.0</div>
                                            </div>
                                        </a>
                                    </div>
                                </nav>
                            </div>
                            <a href="https://www.pcet.ac.in/" class="navbar_link w-nav-link">About Us</a>
                        </div>
                        <div class="navbar_menu-buttons">
                            <a id="join-btn" href="registration.html" class="button is-secondary is-small w-button">Registration</a>
                        </div>
                    </nav>
                    <div class="navbar_menu-button w-nav-button">
                        <div class="menu-icon1">
                            <div class="menu-icon1_line-top"></div>
                            <div class="menu-icon1_line-middle">
                                <div class="menu-icon_line-middle-inner"></div>
                            </div>
                            <div class="menu-icon1_line-bottom"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-animation="default" class="navbar_fixed w-nav" data-easing2="ease" fs-scrolldisable-element="smart-nav" data-easing="ease" data-collapse="medium" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8ccf" role="banner" data-duration="0">
            <div class="navbar_component">
                <div class="navbar_container">
                    <a href="/" aria-current="page" class="navbar_logo-link w-nav-brand w--current">
                        <img src="codewar-logo.jpg" loading="lazy" alt="" class="navbar_logo"/>
                    </a>
                    <nav role="navigation" class="navbar_menu w-nav-menu">
                        <div class="navbar_menu-links">
                            <a href="code.html" class="navbar_link w-nav-link">Home</a>
                            <a href="about.html" class="navbar_link w-nav-link">About CodeWar 2.O</a>
                            <div data-hover="false" data-delay="200" id="dojo-menu" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8cd5" class="navbar_menu-dropdown w-dropdown">
                                <div class="navbar_dropdown-toggle w-dropdown-toggle">
                                    <div>Gallery</div>
                                    <div class="dropdown-icon w-embed">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z" fill="currentcolor"/>
                                        </svg>
                                    </div>
                                </div>
                                <nav class="navbar_dropdown-list w-dropdown-list">
                                    <div class="navbar_dropdown-link-list">
                                        <a href="gallery.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 1.0</div>
                                            </div>
                                        </a>
                                        <a href="gallery1.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 2.0</div>
                                            </div>
                                        </a>
                                    </div>
                                </nav>
                            </div>
                            <a href="https://www.pcet.ac.in/" class="navbar_link w-nav-link">About Us</a>
                        </div>
                        <div class="navbar_menu-buttons">
                            <a id="join-btn" href="registration.html" class="button is-secondary is-small w-button">Registration</a>
                        </div>
                    </nav>
                    <div class="navbar_menu-button w-nav-button">
                        <div class="menu-icon1">
                            <div class="menu-icon1_line-top"></div>
                            <div class="menu-icon1_line-middle">
                                <div class="menu-icon_line-middle-inner"></div>
                            </div>
                            <div class="menu-icon1_line-bottom"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div data-animation="default" class="navbar_fixed w-nav" data-easing2="ease" fs-scrolldisable-element="smart-nav" data-easing="ease" data-collapse="medium" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8ccf" role="banner" data-duration="0">
            <div class="navbar_component">
                <div class="navbar_container">
                    <a href="/" aria-current="page" class="navbar_logo-link w-nav-brand w--current">
                        <img src="img/codewar-logo.jpg" loading="lazy" alt="" class="navbar_logo"/>
                    </a>
                    <nav role="navigation" class="navbar_menu w-nav-menu">
                        <div class="navbar_menu-links">
                            <a href="code.html" class="navbar_link w-nav-link">Home</a>
                            <a href="about.html" class="navbar_link w-nav-link">About CodeWar 2.O</a>
                            <div data-hover="false" data-delay="200" id="dojo-menu" data-w-id="5d852efa-8106-c00b-da3b-afd629aa8cd5" class="navbar_menu-dropdown w-dropdown">
                                <div class="navbar_dropdown-toggle w-dropdown-toggle">
                                    <div>Gallery</div>
                                    <div class="dropdown-icon w-embed">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z" fill="currentcolor"/>
                                        </svg>
                                    </div>
                                </div>
                                <nav class="navbar_dropdown-list w-dropdown-list">
                                    <div class="navbar_dropdown-link-list">
                                        <a href="gallery.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 1.0</div>
                                            </div>
                                        </a>
                                        <a href="gallery1.html" class="navbar_dropdown-link w-inline-block">
                                            <div class="navbar_icon-wrapper">
                                                <div class="icon-1x1-small-plus w-embed">
                                                    
                                                </div>
                                            </div>
                                            <div class="navbar_text-wrapper">
                                                <div class="text-weight-bold">CodeWar 2.0</div>
                                            </div>
                                        </a>
                                    </div>
                                </nav>
                            </div>
                            <a href="https://www.pcet.ac.in/" class="navbar_link w-nav-link">About Us</a>
                        </div>
                        <div class="navbar_menu-buttons">
                            <a id="join-btn" href="registration.html" class="button is-secondary is-small w-button">Registration</a>
                        </div>
                    </nav>
                    <div class="navbar_menu-button w-nav-button">
                        <div class="menu-icon1">
                            <div class="menu-icon1_line-top"></div>
                            <div class="menu-icon1_line-middle">
                                <div class="menu-icon_line-middle-inner"></div>
                            </div>
                            <div class="menu-icon1_line-bottom"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 
    <div style="padding-top: 50px;">
        <div class="container py-5">
            <div class="card mx-auto" style="max-width: 800px;">
                <div class="card-body">
                    <style>
                        .image-logo {
                            width: 100%;
                            max-width: 200px;
                            height: auto;
                        }
                        @media screen and (max-width: 991px) {
                            .image-logo {
                                max-width: 150px;
                            }
                        }
                        @media screen and (max-width: 767px) {
                            .image-logo {
                                max-width: 120px;
                            }
                        }
                        @media screen and (max-width: 479px) {
                            .image-logo {
                                max-width: 100px;
                            }
                        }
                    </style>
                    <div class="text-center mb-2">
                        <img src="img/codewar-logo-removebg-preview.png" alt="CodeWar 2.0 Logo" class="image-logo">
                    </div>
                    <!-- Member Selection Tabs -->
                    <div class="d-flex flex-wrap align-items-center mb-4" id="memberTabs">
                        <button class="tab-button active" data-member="1">Member 1</button>
                        <button class="tab-button" data-member="2">Member 2</button>
                        <button type="button" class="btn btn-outline-primary btn-sm add-member-btn ms-2" style="color: #39a21b; border: 1px solid white;" id="addMemberBtn">
                            <i class="fas fa-plus"></i> Add Member
                        </button>
                    </div>
    
                    <form id="teamRegistrationForm" novalidate>
                        <!-- Member 1 Form (Required) -->
                        <div class="member-form active" data-member="1">
                            <h4 class="mb-3">Member 1 Details (Required)</h4>
                            <div class="member-details"></div>
                        </div>
    
                        <!-- Member 2 Form (Required) -->
                        <div class="member-form" data-member="2">
                            <h4 class="mb-3">Member 2 Details (Required)</h4>
                            <div class="member-details"></div>
                        </div>
    
                        <div class="d-flex justify-content-between mt-4">
                            <button type="button" class="btn btn-primary" id="resetBtn">Reset</button>
                            <button type="submit" class="btn btn-primary">Proceed to Payment</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let memberCount = 2;
            const MAX_MEMBERS = 4;
            const currentYear = new Date().getFullYear();

            // Template for member form fields
            const memberFormTemplate = `
                <i class="fas fa-trash delete-member"></i>
                <div class="mb-3">
                    <label class="form-label">Name:</label>
                    <input type="text" class="form-control" name="name" required minlength="3">
                    <div class="error-message"></div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Date of Birth:</label>
                    <div class="d-flex gap-2">
                        <select name="dobDay" class="form-select" required>
                            <option value="" disabled selected>Day</option>
                            ${Array.from({length: 31}, (_, i) => `<option value="${i + 1}">${i + 1}</option>`).join('')}
                        </select>
                        <select name="dobMonth" class="form-select" required>
                            <option value="" disabled selected>Month</option>
                            ${Array.from({length: 12}, (_, i) => `<option value="${i + 1}">${i + 1}</option>`).join('')}
                        </select>
                        <select name="dobYear" class="form-select" required>
                            <option value="" disabled selected>Year</option>
                            ${Array.from({length: currentYear - 2000 + 1}, (_, i) => {
                                const year = currentYear - i;
                                return `<option value="${year}">${year}</option>`;
                            }).join('')}
                        </select>
                    </div>
                    <div class="error-message"></div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Roll Number:</label>
                    <input type="text" class="form-control" name="rollNumber" required maxlength="20">
                    <div class="error-message"></div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Phone Number:</label>
                    <input type="tel" class="form-control" name="phone" required pattern="\\d{10,15}">
                    <div class="error-message"></div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Email:</label>
                    <input type="email" class="form-control" name="email" required>
                    <div class="error-message"></div>
                </div>

                <div class="mb-3">
                    <label class="form-label">Branch:</label>
                    <select id="branch" name="branch" class="form-select" required>
                        <option value="" disabled selected>Select Branch</option>
                        <option value="Aeronautical Engineering">Aeronautical Engineering</option>
                        <option value="Aerospace Engineering">Aerospace Engineering</option>
                        <option value="Agricultural Engineering">Agricultural Engineering</option>
                        <option value="Artificial Intelligence and Data Science">Artificial Intelligence and Data Science</option>
                        <option value="Automobile Engineering">Automobile Engineering</option>
                        <option value="B.Arch">B.Arch</option>
                        <option value="Biomedical Engineering">Biomedical Engineering</option>
                        <option value="Biotechnology">Biotechnology</option>
                        <option value="Biotechnology and Biochemical Engineering">Biotechnology and Biochemical Engineering</option>
                        <option value="Chemical and Electrochemical Engineering">Chemical and Electrochemical Engineering</option>
                        <option value="Chemical Engineering">Chemical Engineering</option>
                        <option value="Civil Engineering">Civil Engineering</option>
                        <option value="Computer Science and Business Systems">Computer Science and Business Systems</option>
                        <option value="Computer Science and Engineering (CSE)">Computer Science and Engineering (CSE)</option>
                        <option value="Computer Science and Design">Computer Science and Design</option>
                        <option value="Computer Science and Engineering (AIML) CSE">Computer Science and Engineering (AIML) CSE</option>
                        <option value="Computer Science and Engineering (Cyber Security) CSE">Computer Science and Engineering (Cyber Security) CSE</option>
                        <option value="Computer and Communication Engineering">Computer and Communication Engineering</option>
                        <option value="Data Science and Engineering">Data Science and Engineering</option>
                        <option value="Electrical and Electronics Engineering (EEE)">Electrical and Electronics Engineering (EEE)</option>
                        <option value="Electronics and Communication Engineering (ECE)">Electronics and Communication Engineering (ECE)</option>
                        <option value="Electronics and Instrumentation Engineering (EIE)">Electronics and Instrumentation Engineering (EIE)</option>
                        <option value="Electronics and TeleCommunication Engineering">Electronics and TeleCommunication Engineering</option>
                        <option value="Environment Engineering">Environment Engineering</option>
                        <option value="Fashion Technology">Fashion Technology</option>
                        <option value="Food Technology">Food Technology</option>
                        <option value="Geo Informatics Engineering">Geo Informatics Engineering</option>
                        <option value="Handloom and Textile Technology">Handloom and Textile Technology</option>
                        <option value="Industrial Engineering">Industrial Engineering</option>
                        <option value="Industrial Engineering and Management">Industrial Engineering and Management</option>
                        <option value="Information Technology (IT)">Information Technology (IT)</option>
                        <option value="Instrumentation and Control Engineering">Instrumentation and Control Engineering</option>
                        <option value="Manufacturing Engineering">Manufacturing Engineering</option>
                        <option value="Marine Engineering">Marine Engineering</option>
                        <option value="Material Science Engineering">Material Science Engineering</option>
                        <option value="Mechanical Engineering">Mechanical Engineering</option>
                        <option value="Mechanical Engineering (Sandwich)">Mechanical Engineering (Sandwich)</option>
                        <option value="Mechanical and Automation Engineering">Mechanical and Automation Engineering</option>
                        <option value="Mechatronics Engineering">Mechatronics Engineering</option>
                        <option value="Medical Electronics">Medical Electronics</option>
                        <option value="Petrochemical Engineering">Petrochemical Engineering</option>
                        <option value="Petrochemical Technology">Petrochemical Technology</option>
                        <option value="Petroleum Engineering">Petroleum Engineering</option>
                        <option value="Pharmaceutical Technology">Pharmaceutical Technology</option>
                        <option value="Plastic Technology">Plastic Technology</option>
                        <option value="Production Engineering">Production Engineering</option>
                        <option value="Robotics and Automation">Robotics and Automation</option>
                        <option value="Safety and Fire Engineering">Safety and Fire Engineering</option>
                        <option value="Textile Chemistry">Textile Chemistry</option>
                        <option value="Textile Technology">Textile Technology</option>
                    </select>
                    <div class="error-message"></div>
                </div>

                <div class="mb-3">
                    <label class="form-label">College Name:</label>
                    <input type="text" class="form-control" name="college" required minlength="3">
                    <div class="error-message"></div>
                </div>
            `;

            // Populate initial member forms
            document.querySelectorAll('.member-details').forEach(div => {
                div.innerHTML = memberFormTemplate;
            });

            // Add member functionality
            document.getElementById('addMemberBtn').addEventListener('click', function() {
                if (memberCount < MAX_MEMBERS) {
                    memberCount++;
                    
                    // Create new tab button
                    const newTab = document.createElement('button');
                    newTab.className = 'tab-button';
                    newTab.setAttribute('data-member', memberCount);
                    newTab.textContent = `Member ${memberCount}`;
                    this.insertAdjacentElement('beforebegin', newTab);

                    // Create new form
                    const newForm = document.createElement('div');
                    newForm.className = 'member-form';
                    newForm.setAttribute('data-member', memberCount);
                    newForm.innerHTML = `
                        <h4 class="mb-3">Member ${memberCount} Details</h4>
                        <div class="member-details">
                            ${memberFormTemplate}
                        </div>
                    `;
                    document.getElementById('teamRegistrationForm').insertBefore(
                        newForm,
                        document.querySelector('.d-flex.justify-content-between')
                    );

                    if (memberCount === MAX_MEMBERS) {
                        this.style.display = 'none';
                    }
                }
            });

            // Delete member functionality
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('delete-member')) {
                    const memberForm = e.target.closest('.member-form');
                    const memberNum = memberForm.getAttribute('data-member');
                    
                    // Remove tab and form
                    document.querySelector(`[data-member="${memberNum}"].tab-button`).remove();
                    memberForm.remove();
                    
                    memberCount--;
                    document.getElementById('addMemberBtn').style.display = 'inline-block';
                    
                    // Show first member if current tab was deleted
                    if (memberForm.classList.contains('active')) {
                        document.querySelector('.member-form[data-member="1"]').classList.add('active');
                        document.querySelector('.tab-button[data-member="1"]').classList.add('active');
                    }
                }
            });

            // Tab switching functionality
            document.getElementById('memberTabs').addEventListener('click', function(e) {
                if (e.target.classList.contains('tab-button')) {
                    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                    document.querySelectorAll('.member-form').forEach(form => form.classList.remove('active'));
                    
                    e.target.classList.add('active');
                    const memberNum = e.target.getAttribute('data-member');
                    document.querySelector(`.member-form[data-member="${memberNum}"]`).classList.add('active');
                }
            });

            // Form validation and submission
            const form = document.getElementById('teamRegistrationForm');
            
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                clearErrors();

                const formData = {
                    members: []
                };

                let isValid = true;

                // Collect and validate member data
                document.querySelectorAll('.member-form').forEach((memberForm) => {
                    const memberData = {};
                    const inputs = memberForm.querySelectorAll('input, select');
                    
                    inputs.forEach(input => {
                        if (input.name.startsWith('dob')) {
                            memberData[input.name] = parseInt(input.value);
                        } else {
                            memberData[input.name] = input.value;
                        }
                        
                        if (!validateField(input)) {
                            isValid = false;
                            showError(input, getErrorMessage(input));
                        }
                    });

                    formData.members.push(memberData);
                });

                if (formData.members.length < 2) {
                    alert('At least 2 members are required!');
                    return;
                }

                if (isValid) {
                    try {
                        const response = await fetch('/api/register/team', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(formData)
                        });

                        const result = await response.json();

                        if (!result.success) {
                            throw new Error(result.error);
                        }

                        window.location.href = 'payment.html';
                    } catch (error) {
                        alert(error.message || 'An error occurred during registration');
                    }
                }
            });

            // Reset button functionality
            document.getElementById('resetBtn').addEventListener('click', function() {
                form.reset();
                clearErrors();
            });

            // Validation helper functions
            function validateField(field) {
                if (!field.value) return false;
                
                if (field.type === 'email') {
                    return /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(field.value);
                }
                if (field.type === 'tel') {
                    return /^\d{10}$/.test(field.value);
                }
                if (field.name === 'name' || field.name === 'college') {
                    return field.value.length >= 3;
                }
                if (field.name === 'rollNumber') {
                    return field.value.length <= 20;
                }
                return true;
            }

            function getErrorMessage(field) {
                if (field.type === 'email') {
                    return 'Please enter a valid email address';
                }
                if (field.type === 'tel') {
                    return 'Please enter a valid phone number (10 digits)';
                }
                if (field.name === 'name' || field.name === 'college') {
                    return `${field.name.charAt(0).toUpperCase() + field.name.slice(1)} must be at least 3 characters`;
                }
                if (field.name === 'rollNumber') {
                    return 'Roll number cannot exceed 20 characters';
                }
                return 'This field is required';
            }

            function showError(field, message) {
                const errorDiv = field.parentElement.querySelector('.error-message');
                if (errorDiv) {
                    errorDiv.textContent = message;
                }
            }

            function clearErrors() {
                document.querySelectorAll('.error-message').forEach(div => {
                    div.textContent = '';
                });
            }
        });
    </script>
</body>
</html>
